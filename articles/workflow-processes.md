---
title: クラシック Common Data Service ワークフロー| MicrosoftDocs
ms.custom: ''
ms.date: 08/27/2019
ms.reviewer: matp
ms.service: flow
ms.topic: article
ms.assetid: 1f3c9780-26ad-49ec-a3fb-fc226def19c5
author: msftman
ms.author: deonhe
manager: kvivek
search.app:
- Flow
search.audienceType:
- flowmaker
- enduser
ms.openlocfilehash: 53bc2b24da55c8700412b527c7f27934e5515bc4
ms.sourcegitcommit: d336e5ffb6cf07e5c8fefe19a87dd7668db9e074
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/26/2020
ms.locfileid: "3298332"
---
# <a name="classic-common-data-service-workflows"></a>クラシック Common Data Service ワークフロー 


ワークフローによって、ユーザー インターフェイスを持たないビジネス プロセスが自動化されます。 通常は、ユーザーの介入を必要としない自動化を開始するためにワークフロー プロセスを使用します。

> [!IMPORTANT]
> 従来のワークフローではなくフローを使用し、業務プロセスを自動化します。 詳細: [クラシック Common Data Service ワークフローをフローに置き換える](replace-workflows-with-flows.md)  
  
 各ワークフロー プロセスには 1 つのエンティティが関連付けられます。 ワークフローを構成するときは、主に次の 4 つの点について検討します。  
  
-   いつワークフローを開始するか。  
  
-   リアルタイム ワークフローまたはバックグラウンド ワークフローとして動作させる必要があるか。  
  
-   どのような操作を実行する必要があるか。  
  
-   どのような条件の下でアクションを実行する必要があるか。  
  
 このトピックは、ワークフロー プロセスを探す方法を紹介し、それらをいつ開始するか、リアルタイムまたはバックグラウンドで実行する必要があるかどうかを説明しています。 実行する必要があるアクション、および条件の詳細については、[ワークフロー プロセスの構成](configure-workflow-steps.md)。  
  
<a name="BKMK_WhereToCustomizeWorkflows"></a>   
## <a name="where-do-you-customize-workflow-processes"></a>どこでワークフロー プロセスをカスタマイズしますか。  
 **既定のソリューション**の**プロセス**ノードを表示および**商品区分** **ワークフロー**を持つプロセスをフィルター処理することによって、組織のワークフローを確認できます。  
  
 ![Dynamics 365 でワークフロー別にフィルタリングされたプロセス](media/workflow-processes-filtered.PNG "Dynamics 365 でワークフロー別にフィルタリングされたプロセス")  
  
 アプリの構築方法によって異なりますが、ユーザーがアプリ内でワークフローを作成または変更できます。 
 
開発者は、[Common Data Service 開発者ガイド](https://docs.microsoft.com/powerapps/developer/common-data-service/workflow/workflow-extensions) にある情報を使用してワークフローを作成することが可能であり、また購入するソリューションに自身で変更できるワークフローが含まれている場合があります。  
  
<a name="BKMK_WorkflowProperties"></a>   
## <a name="workflow-properties"></a>ワークフロー プロパティ  
 ソリューション エクスプローラーで、**プロセス**を選択肢、**新規**をクリックします。  
  
 ワークフローを作成するとき、**プロセスの作成**ダイアログは、全プロセスが使用する次の 3 つのプロパティの設定を必要とします。  
  
 ![Dynamics 365 でワークフローを作成する](media/create-workflow.PNG "Dynamics 365 でワークフローを作成する")  
  
 **プロセス名**  
 ワークフロー プロセスの名前は一意にする必要はありませんが、多くのワークフローを使用する予定がある場合は、名前付け規則を使用してプロセスを明確に区別できるようにすることをお勧めします。 ワークフロー名には、標準の接頭辞を適用できます。 接頭辞は、ワークフローの機能や会社の部門を示すものにできます。 これは、ワークフローの一覧にある同様な項目をグループ化するのに役立ちます。  
  
 **カテゴリ**  
 このプロパティは、これがワークフロー プロセスであることを確立します。  
  
 **エンティティ**  
 各プロセス ワークフローを単一のエンティティに設定する必要があります。 ワークフロー プロセスを作成したらエンティティは変更できません。  
  
 **このワークフローをバックグラウンドで実行する (推奨)**  
 このオプションは、カテゴリとしてワークフローを選択すると表示されます。 この設定により、ワークフローをリアルタイムとバックグラウンドのどちらのワークフローにするかが決まります。 リアルタイム ワークフローはすぐに (同期的に) 実行され、バックグラウンド ワークフローは非同期で実行されます。 使用可能な設定オプションは、ここで選択する設定によって異なります。 バックグラウンド ワークフローでは、リアルタイム ワークフローでは使用できない待機条件が使用できます。 これらの待機状態を使用していないかぎり、後で、バックグラウンド ワークフローをリアルタイム ワークフローへ、またリアルタイム ワークフローをバックグラウンド ワークフローへ変換できます。 待機状態の詳細については、["ワークフロー アクションの設定条件](configure-workflow-steps.md#BKMK_SettingConditionsForWorkflowActions) を参照してください。  
  
 また、ワークフローを新規に作成するか、または既存のテンプレートから始めることを選択するかを指定する**タイプ**オプションがあります。 **既存テンプレートからのプロセスの新規作成 (一覧から選択)** を選択したときは、プロセス テンプレートとして以前に保存された、利用可能なワークフロー プロセスから選択できます。  
  
 ワークフローを作成した後、または既存のワークフローを編集した場合には、次の追加プロパティが用意されます。  
  
 ![ワークフローの [全般] タブ](media/create-workflow-general-tab.PNG "ワークフローの [全般] タブ")  
  
 **次の種類としてアクティブ化:**  
 **プロセス テンプレート**を選択して、他のテンプレートの詳細な開始ポイントを作成できます。 このオプションを選択した場合、ワークフローのアクティブ化の後、**タイプ**で**既存テンプレートからのプロセスの新規作成 (一覧から選択)** を選択している場合は、ワークフローは適用されず、代わりに、**プロセスの作成**ダイアログでの選択を使用できます。  
  
 プロセス テンプレートは、複数の同様のワークフロー プロセスがあって、同じロジックを重複させずに定義するときに便利です。  
  
> [!NOTE]
>  プロセス テンプレートの編集によって、前にそれをテンプレートとして使用して作成したほかのワークフロー プロセスの動作が変更されることはありません。 テンプレートを使用して作成された新しいワークフローは、テンプレートのコンテンツのコピーです。  
  
 **実行可能なワークフロー**  
 このセクションには、ワークフローを実行可能にする方法を説明したオプションがあります。  
  
 **このワークフローをバックグラウンドで実行する (推奨)**  
 このチェック ボックスは、ワークフローの作成時に選択したオプションを反映しています。 このオプションは無効になっていますが、**アクション**メニューで、**リアルタイム ワークフローに変換**または**バックグラウンド ワークフローに変換**を選択することによって変更できます。  
  
 **オンデマンド プロセスとして**  
 ユーザーが**ワークフローの実行**コマンドでこのワークフローを実行できるようにする場合は、このオプションを選択します。  
  
 **子プロセスとして**  
 ワークフローを別のワークフローから使用できるようにする場合は、このオプションを選択します。  
  
 **ワークフロー ジョブの保持**  
 このセクションには、ワークフローの実行が完了したら、ワークフローを削除するオプションがあります。  
  
 **完了したワークフロー ジョブを自動的に削除する (ディスク容量の確保)**  
 完了したワークフロー ジョブが自動的に削除されるようにする場合は、このオプションを選択します。  
  
> [!NOTE]
>  ワークフロー ジョブは、完了後すぐに削除されませんが、バッチ処理を通じてできるだけすぐに削除されます。  
  
 **スコープ**  
 ユーザー所有のエンティティの場合、オプションは、**組織**、**部署配下**、**部署**、または**ユーザー**です。 組織所有のエンティティの場合、オプションは**組織**だけです。  
  
 スコープが**組織**の場合、ワークフロー ロジックは組織のすべてのレコードに適用できます。 それ以外の場合は、ワークフローはスコープに含まれるレコードのサブセットのみに適用できます。  
  
> [!NOTE]
>  既定のスコープ値は**ユーザー**です。 ワークフローをアクティブ化する前に、スコープ値が適切であることを確認してください。  
  
 **開始時期**  
 ワークフローをいつ自動的に開始するかを指定するには、このセクションのオプションを使用します。 リアルタイム ワークフローを、特定のイベント前に実行するように構成できます。 これは、ワークフローがアクションを発生前に停止できるため、きわめて強力な機能です。 詳しくは、「[リアルタイム ワークフローの使用](configure-workflow-steps.md#BKMK_SynchronousWorkflows)」をご覧ください。 オプションは次のとおりです。  
  
- **レコードが作成された**  
  
- **レコードの状態の変更**  
  
- **レコードの割り当て**  
  
- **レコード フィールドの変更**  
  
- **レコードの削除**  
  
> [!NOTE]
>  ワークフローに対して定義する条件とアクションは、ワークフローがいつ実行されるかを認識してないことに注意してください。 たとえば、レコードを更新するワークフローを定義する場合、このアクションは、レコードが作成されるまでは、リアルタイム ワークフローによって実行できません。 存在しないレコードは更新できません。 同様に、バックグラウンド ワークフローは削除されたレコードは更新できません。ただし、ワークフローでこのアクションを定義することはできます。 実行できないアクションを実行するワークフローを構成した場合、そのアクションは失敗し、ワークフロー全体が機能しません。  
  
 **実行時の権限**  
 このオプションは、ワークフローの作成時に**バックグラウンドの作成(推奨)、このワークフローを実行します**オプションの選択を解除した場合、またはバックグラウンド ワークフローをリアルタイム ワークフローに後で変換した場合にのみ使用できます。  
  
<a name="BKMK_SecurityContextOfWorkflowProcesses"></a>   
## <a name="security-context-of-workflow-processes"></a>ワークフロー プロセスのセキュリティ コンテキスト  
 バックグラウンド ワークフローがオンデマンド プロセスとして構成され、ユーザーが**ワークフローの実行**コマンドを使用してそのワークフローを開始するとき、ワークフローが実行できるアクションは、そのユーザー アカウントのセキュリティ ロールによって定義された特権およびアクセス レベルに基づいてユーザーが実行できるアクションに制限されます。  
  
 バックグラウンド ワークフローがイベントに基づいて開始されるとき、ワークフローはそれを所有するユーザー (通常、ユーザー ワークフローを作成したユーザー) のコンテキストで実行されます。  
  
 リアルタイム ワークフローの場合、**実行時の権限**オプションがあり、ワークフローがワークフローの所有者のセキュリティ コンテキストを適用するか、またはレコードを変更したユーザーに適用するかを選択できます。 セキュリティ制限に基づいてすべてのユーザーが実行できないアクションがワークフローに含まれている場合、ワークフローをワークフローの所有者として実行するように選択する必要があります。  
  
<a name="BKMK_ActivatingWorkflows"></a>   
## <a name="activate-a-workflow"></a>ワークフローのアクティブ化  
 ワークフローは、非アクティブされているときだけ編集できます。 手動の場合もイベントによって適用する場合も、ワークフローを使用するにはアクティブ化する必要があります。 ワークフローをアクティブ化できるようにするには、ワークフローにステップが 1 つ以上含まれている必要があります。 手順の設定については、[ワークフロー プロセスの構成](configure-workflow-steps.md) を参照してください。  
  
 ワークフローは、ワークフローの所有者、またはシステム管理者などの**別のユーザーの代理として操作**の特権を持つユーザーだけがアクティブ化または非アクティブ化することができます。  この理由は、悪意のユーザーが、変更を気づかせないように、ユーザーのワークフローを変更できるからです。 所有者を変更することによって、所有するワークフローを再割り当てすることができます。 このフィールドは**管理**タブにあります。自分がシステム管理者ではなく、別のユーザーが所有するワークフローを編集する必要がある場合、それを非アクティブ化し、自分に割り当てることが必要です。 ワークフローの編集が終了したら、その割り当てを元に戻すことが可能であるため、それをアクティブ化することができます。  
  
 リアルタイム ワークフローでは、ユーザーは**リアルタイム プロセスのアクティブ化**特権を所有する必要があります。 リアルタイム ワークフローにはシステム パフォーマンスに影響する大きなリスクがあるので、潜在的リスクを評価できるユーザーだけにこの特権を付与する必要があります。  
  
 ワークフローはアクティブ化されたときに保存されるため、アクティブ化の前に保存する必要はありません。  
  
## <a name="next-steps"></a>次のステップ  
 [ワークフロー プロセスの構成](configure-workflow-steps.md)  <br/>
[業務プロセス フローへのオンデマンド ワークフローの追加](bpf-add-on-demand-workflow.md) 

